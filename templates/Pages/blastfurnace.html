{% extends 'Layout/base.html' %}
{% block title %}Blast Furnace Monitoring Dashboard{% endblock %}
{% block content %}
<style>
   body {
   background-color: #f8f9fa;
   }
   .card {
   margin: 10px;
   }
   .status-indicator {
   width: 15px;
   height: 15px;
   border-radius: 50%;
   display: inline-block;
   }
   .green { background-color: green; }
   .red { background-color: red; }
   .box {
   border: 2px solid #007bff;
   padding: 2px;
   text-align: center;
   margin: 1px 0;
   border-radius: 10px;
   background-color: white;
   }
   input[type=text] {
   width: 70px;
   }
</style>
<div class="container-fluid">
    <div class="row">
        <h2 class="text-center my-3" style="background-color: rgb(138, 202, 207); font-family: cursive;">
            Blast Furnace Monitoring Dashboard
        </h2>
    </div>
    <div class="row">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Blast Furnace Data</h5>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="card" style="height: 400px;">
                                <!-- Cold Blast Pressure -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="cold_blast_pressure" class="form-label"><strong> Cold Blast Pressure:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="cold_blast_pressure" name="cold_blast_pressure">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Kg/Cm²</p>
                                    </div>
                                </div>
    
                                <!-- Hot Blast Pressure -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="hot_blast_pressure" class="form-label"><strong> Hot Blast Pressure:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="hot_blast_pressure" name="hot_blast_pressure">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Kg/Cm²</p>
                                    </div>
                                </div>
    
                                <!-- Cold Blast Flow -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="cold_blast_flow" class="form-label"><strong>Cold Blast Flow: </strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="cold_blast_flow" name="cold_blast_flow">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Nm³/h</p>
                                    </div>
                                </div>
    
                                <!-- Hot Blast Flow -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="hot_blast_flow" class="form-label"><strong>Hot Blast Flow: </strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="hot_blast_flow" name="hot_blast_flow">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Nm³/h</p>
                                    </div>
                                </div>
    
                                <!-- Hot Blast Temperature -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="hot_blast_temperature" class="form-label"><strong> Hot Blast Temperature:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="hot_blast_temperature" name="hot_blast_temperature">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">°C</p>
                                    </div>
                                </div>
                            </div>
                        </div>
    
                        <div class="col-lg-4">
                            <div class="card" style="height: 400px;">
                                <!-- RAFT -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="raft" class="form-label"><strong>RAFT: </strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="raft" name="raft">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">°C</p>
                                    </div>
                                </div>
    
                                <!-- New Calc -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="new_calc" class="form-label"><strong> New Calc:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="new_calc" name="new_calc">
                                    </div>
                                    <div class="col-md-3"></div>
                                </div>
    
                                <!-- Top Pressure -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="top_pressure" class="form-label"><strong>Top Pressure: </strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="top_pressure" name="top_pressure">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Kg/Cm²</p>
                                    </div>
                                </div>
    
                                <!-- Discharge Level -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="discharge_level" class="form-label"><strong>Discharge Level: </strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="discharge_level" name="discharge_level">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">m</p>
                                    </div>
                                </div>
                            </div>
                        </div>
    
                        <div class="col-lg-4">
                            <div class="card" style="height: 400px;">
                                <!-- Current Burden Level -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="burden_level" class="form-label"><strong> Current Burden Level:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="burden_level" name="burden_level">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">m</p>
                                    </div>
                                </div>
    
                                <!-- Coal Injection Rate -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="coal_injection_rate" class="form-label"><strong>Coal Injection Rate: </strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="coal_injection_rate" name="coal_injection_rate">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Kg/THM</p>
                                    </div>
                                </div>
    
                                <!-- Oxygen Injection -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label for="oxygen_injection" class="form-label"><strong>Oxygen Injection: </strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="oxygen_injection" name="oxygen_injection">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Nm³/hr</p>
                                    </div>
                                </div>
    
                                <!-- Charge Per Shift -->
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label class="form-label"><strong>Charge Per Shift:</strong></label>
                                    </div>
                                    <div class="col-md-6 text-center">
                                        <div class="row">
                                            <div class="col-4"><strong>A</strong></div>
                                            <div class="col-4"><strong>B</strong></div>
                                            <div class="col-4"><strong>C</strong></div>
                                        </div>
                                        <div class="row mt-1">
                                            <div class="col-4"><input type="text" class="form-control" id="charge_A" name="charge_A"></div>
                                            <div class="col-4"><input type="text" class="form-control" id="charge_B" name="charge_B"></div>
                                            <div class="col-4"><input type="text" class="form-control" id="charge_C" name="charge_C"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
    
                    <div class="row" style="place-content: end; margin-right: 10px;">
                        <button type="button" class="btn btn-primary w-auto">Submit</button>
                    </div>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-6">
                        <h5 class="card-title">Blast Flow</h5>
                        <div class="card" style="height: 436px;">
                            <div class="card-body">
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label class="form-label"><strong>Hot Metal Temp.</strong></label>
                                    </div>
                                    <div class="row text-center">
                                        <div class="col-3"><strong>TH-1</strong></div>
                                        <div class="col-3"><strong>TH-2</strong></div>
                                        <div class="col-3"><strong>TH-3</strong></div>
                                        <div class="col-3"><strong>TH-4</strong></div>
                                    </div>
                                    <div class="row mt-1 text-center">
                                        <div class="col-3"><input type="text" class="form-control" id="hot_temp_th1" name="hot_temp_th1"></div>
                                        <div class="col-3"><input type="text" class="form-control" id="hot_temp_th2" name="hot_temp_th2"></div>
                                        <div class="col-3"><input type="text" class="form-control" id="hot_temp_th3" name="hot_temp_th3"></div>
                                        <div class="col-3"><input type="text" class="form-control" id="hot_temp_th4" name="hot_temp_th4"></div>
                                    </div>
                                </div>
                                <div class="row m-3">
                                    <div class="col-md-6">
                                        <label class="form-label"><strong>Uptake Temp.</strong></label>
                                    </div>
                                    <div class="row text-center">
                                        <div class="col-3"><strong>A</strong></div>
                                        <div class="col-3"><strong>B</strong></div>
                                        <div class="col-3"><strong>C</strong></div>
                                        <div class="col-3"><strong>D</strong></div>
                                    </div>
                                    <div class="row mt-1 text-center">
                                        <div class="col-3"><input type="text" class="form-control" id="uptake_temp_a" name="uptake_temp_a"></div>
                                        <div class="col-3"><input type="text" class="form-control" id="uptake_temp_b" name="uptake_temp_b"></div>
                                        <div class="col-3"><input type="text" class="form-control" id="uptake_temp_c" name="uptake_temp_c"></div>
                                        <div class="col-3"><input type="text" class="form-control" id="uptake_temp_d" name="uptake_temp_d"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" style="place-content: end; margin-right: 10px; margin-bottom: inherit;">
                                <button type="button" class="btn btn-primary w-auto">Submit</button>
                            </div>
                        </div>
                    </div>
    
                    <div class="col-lg-6">
                        <h5 class="card-title">Temperatures</h5>
                        <div class="card">
                            <div class="card-body">
                                <div class="row m-3">
                                    <div class="col-md-4">
                                        <label class="form-label"><strong>Tuyere Cooling</strong></label>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="tuyere_cooling_1" name="tuyere_cooling_1">
                                    </div>
                                    <div class="col-md-2">
                                        <span>Kg/cm²</span>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="tuyere_cooling_2" name="tuyere_cooling_2">
                                    </div>
                                    <div class="col-md-2">
                                        <span>Kg/cm²</span>
                                    </div>
                                </div>
    
                                <!-- Stack Cooling -->
                                <div class="row m-3">
                                    <div class="col-md-4">
                                        <label class="form-label"><strong>Stack Cooling</strong></label>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="stack_cooling_flow" name="stack_cooling_flow">
                                    </div>
                                    <div class="col-md-2">
                                        <span>m³/hr</span>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="stack_cooling_pressure" name="stack_cooling_pressure">
                                    </div>
                                    <div class="col-md-2">
                                        <span>Kg/cm²</span>
                                    </div>
                                </div>
    
                                <!-- Hearth & Bottom -->
                                <div class="row m-3">
                                    <div class="col-md-4">
                                        <label class="form-label"><strong>Hearth & Bottom</strong></label>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="hearth_bottom_flow" name="hearth_bottom_flow">
                                    </div>
                                    <div class="col-md-2">
                                        <span>m³/hr</span>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="hearth_bottom_pressure" name="hearth_bottom_pressure">
                                    </div>
                                    <div class="col-md-2">
                                        <span>Kg/cm²</span>
                                    </div>
                                </div>
    
                                <!-- Secondary Cooling -->
                                <div class="row m-3">
                                    <div class="col-md-4">
                                        <label class="form-label"><strong>Secondary Cooling</strong></label>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="secondary_cooling_flow" name="secondary_cooling_flow">
                                    </div>
                                    <div class="col-md-2">
                                        <span>m³/hr</span>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="secondary_cooling_pressure" name="secondary_cooling_pressure">
                                    </div>
                                    <div class="col-md-2">
                                        <span>Kg/cm²</span>
                                    </div>
                                </div>
    
                                <!-- BLT Cooling Flow -->
                                <div class="row m-3">
                                    <div class="col-md-4">
                                        <label class="form-label"><strong>BLT Cooling Flow</strong></label>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="blt_cooling_flow" name="blt_cooling_flow">
                                    </div>
                                    <div class="col-md-2">
                                        <span>m³/hr</span>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="blt_cooling_mm" name="blt_cooling_mm">
                                    </div>
                                    <div class="col-md-2">
                                        <span>mm</span>
                                    </div>
                                </div>
    
                                <!-- Heat Load -->
                                <div class="row m-3">
                                    <div class="col-md-4">
                                        <label class="form-label"><strong>Heat Load (GJ/hr)</strong></label>
                                    </div>
                                    <div class="col-md-2">
                                        <label>Stack</label>
                                        <input type="text" class="form-control" id="heat_load_stack" name="heat_load_stack">
                                    </div>
                                    <div class="col-md-2">
                                        <label>Tuyere</label>
                                        <input type="text" class="form-control" id="heat_load_tuyere" name="heat_load_tuyere">
                                    </div>
                                    <div class="col-md-2">
                                        <label>Hearth</label>
                                        <input type="text" class="form-control" id="heat_load_hearth" name="heat_load_hearth">
                                    </div>
                                </div>
                                <div class="row" style="place-content: end; margin-right: 10px;">
                                    <button type="button" class="btn btn-primary w-auto">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">CPP/PCI Weights</h5>
                <div class="card">
                    <form id="cppPciForm">
                        <div class="row"> 
                            <div class="col-lg-6">
                                <!-- Cold Blast Pressure -->
                                <div class="row m-3">
                                    <div class="col-md-3">
                                        <label for="feed_tank_1" class="form-label"><strong> Feed Tank-1:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="feed_tank_1" name="feed_tank_1">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Ton</p>
                                    </div>
                                </div>
    
                                <div class="row m-3">
                                    <div class="col-md-3">
                                        <label for="feed_tank_2" class="form-label"><strong>Feed Tank-2</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="feed_tank_2" name="feed_tank_2">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Ton</p>
                                    </div>
                                </div>
    
                                <div class="row m-3">
                                    <div class="col-md-3">
                                        <label for="feed_tank_3" class="form-label"><strong>Feed Tank-3:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="feed_tank_3" name="feed_tank_3">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Ton</p>
                                    </div>
                                </div>
    
                                <div class="row m-3">
                                    <div class="col-md-3">
                                        <label for="fcs_weight" class="form-label"><strong>FCS Weight:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="fcs_weight" name="fcs_weight">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Ton</p>
                                    </div>
                                </div>
    
                                <div class="row m-3">
                                    <div class="col-md-3">
                                        <label for="rcs_1_wt" class="form-label"><strong>RCS-1 WT:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="rcs_1_wt" name="rcs_1_wt">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Ton</p>
                                    </div>
                                </div>
    
                                <div class="row m-3">
                                    <div class="col-md-3">
                                        <label for="rcs_2_wt" class="form-label"><strong>RCS-2 WT:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="rcs_2_wt" name="rcs_2_wt">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Ton</p>
                                    </div>
                                </div>
                            </div>
    
                            <div class="col-lg-6">
                                <div class="row m-3">
                                    <div class="col-md-3">
                                        <label for="pci_n2_supply_pr" class="form-label"><strong>PCI N2 Supply PR:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="pci_n2_supply_pr" name="pci_n2_supply_pr">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Kg/cm²</p>
                                    </div>
                                </div>
    
                                <div class="row m-3">
                                    <div class="col-md-3">
                                        <label for="inst_supply_pr" class="form-label"><strong>Inst. Supply PR:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="inst_supply_pr" name="inst_supply_pr">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">Kg/cm²</p>
                                    </div>
                                </div>
    
                                <div class="row m-3">
                                    <div class="col-md-3">
                                        <label for="lances_on_coal" class="form-label"><strong>Lances on Coal</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="lances_on_coal" name="lances_on_coal">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">nos.</p>
                                    </div>
                                </div>
    
                                <div class="row m-3">
                                    <div class="col-md-3">
                                        <label for="hmt_production" class="form-label"><strong>HMT Production:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="hmt_production" name="hmt_production">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">ton/hr</p>
                                    </div>
                                </div>
    
                                <div class="row m-3">
                                    <div class="col-md-3">
                                        <label for="low_pressure_n2" class="form-label"><strong>Low Pressure N2:</strong></label>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="low_pressure_n2" name="low_pressure_n2">
                                    </div>
                                    <div class="col-md-3">
                                        <p class="mt-2">kg/cm²</p>
                                    </div>
                                </div>
                                
                            </div>
                     
                        </div>
    
                </div>
                
                <div class="row justify-content-end me-3">
                    <button type="button" class="btn btn-primary w-auto" onclick="submitForm()">Submit</button>
                </div>
            </form>

            </div>
        </div>
    </div>
    
</div>
    
{% endblock %}

{% block scripts %}
<script>
    function submitForm() {
        let formData = {
            feed_tank_1: document.getElementById("feed_tank_1").value,
            feed_tank_2: document.getElementById("feed_tank_2").value,
            feed_tank_3: document.getElementById("feed_tank_3").value,
            fcs_weight: document.getElementById("fcs_weight").value,
            rcs_1_wt: document.getElementById("rcs_1_wt").value,
            rcs_2_wt: document.getElementById("rcs_2_wt").value,
            pci_n2_supply_pr: document.getElementById("pci_n2_supply_pr").value,
            inst_supply_pr: document.getElementById("inst_supply_pr").value,
            lances_on_coal: document.getElementById("lances_on_coal").value,
            hmt_production: document.getElementById("hmt_production").value,
            low_pressure_n2: document.getElementById("low_pressure_n2").value,
        };
    
        fetch("{% url 'cpp_pci_weights' %}", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "X-CSRFToken": "{{ csrf_token }}"
            },
            body: JSON.stringify(formData)
        })
        .then(response => response.json())
        .then(data => {
            alert(data.message);  // Show response message
            console.log(data);
        })
        .catch(error => console.error("Error:", error));
    }
    </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}